<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Products Dynamically</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      .product-card {
        max-width: 250px;
        margin: 0;
        border-radius: 12px;
        overflow: hidden;
        transition: transform 0.2s ease;
      }
      .product-img {
        object-fit: cover;
      }
      .product-title {
        font-size: 1.1rem;
        font-weight: 600;
        text-decoration: underline;
      }
      .price {
        font-size: 1rem;
        color: #198754;
        font-weight: 500;
      }
      .qty-box {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
        margin-top: 10px;
      }
      .qty-btn {
        width: 32px;
        height: 32px;
        padding: 0;
        font-size: 1.2rem;
        border-radius: 50%;
      }
      .qty-value {
        min-width: 24px;
        text-align: center;
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h3 class="mt-3">Add a Product</h3>
      <div class="row mb-3 g-3">
        <div class="col-md-3">
          <input
            type="text"
            id="productName"
            class="form-control"
            placeholder="Product Name"
          />
        </div>
        <div class="col-md-3">
          <input
            type="text"
            id="productImg"
            class="form-control"
            placeholder="Image URL"
          />
        </div>
        <div class="col-md-3">
          <input
            type="number"
            id="productPrice"
            class="form-control"
            placeholder="Price"
          />
        </div>
        <div class="col-md-3">
          <button id="addProductBtn" class="btn btn-success w-100">
            Add Product
          </button>
        </div>
      </div>

      <div class="row g-2" id="productContainer"></div>
    </div>

    <script>
      // initial products
      let products = [
        {
          name: "Sports Watch",
          img: "https://m.media-amazon.com/images/I/61fyBGuO18L._UY1000_.jpg",
          price: 1500,
        },
        {
          name: "Long Coat",
          img: "https://www.birminghamwear.com/cdn/shop/files/Captured_ecran2023-09-22a13.49.45_92cc33a7-c76a-46a2-bde6-ec5a9466bf48_600x.png?v=1728332870",
          price: 2200,
        },
      ];

      const container = document.getElementById("productContainer");
      const addBtn = document.getElementById("addProductBtn");

      function renderProducts() {
        container.innerHTML = "";
        products.forEach((p) => {
          const col = document.createElement("div");
          col.className = "col-md-4 col-sm-6 p-0";
          col.innerHTML = `
            <div class="card product-card shadow-sm">
              <img src="${p.img}" class="card-img-top product-img" alt="${p.name}">
              <div class="card-body text-center">
                <div class="product-title">${p.name}</div>
                <div class="price">&#8377;${p.price}</div>
                <div class="qty-box">
                  <button class="btn btn-outline-primary qty-btn dec">-</button>
                  <span class="qty-value">0</span>
                  <button class="btn btn-outline-primary qty-btn inc">+</button>
                </div>
              </div>
            </div>
          `;
          let qty = 0;
          const qtySpan = col.querySelector(".qty-value");
          col.querySelector(".inc").onclick = () => {
            qty++;
            qtySpan.textContent = qty;
          };
          col.querySelector(".dec").onclick = () => {
            if (qty > 0) {
              qty--;
              qtySpan.textContent = qty;
            }
          };
          container.appendChild(col);
        });
      }

      renderProducts();

      addBtn.onclick = () => {
        const name = document.getElementById("productName").value.trim();
        const img = document.getElementById("productImg").value.trim();
        const price = document.getElementById("productPrice").value.trim();
        if (name && img && price) {
          // add new product with spread
          products = [...products, { name, img, price }];
          renderProducts();
          document.getElementById("productName").value = "";
          document.getElementById("productImg").value = "";
          document.getElementById("productPrice").value = "";
        } else {
          alert("Enter all fields");
        }
      };
    </script>
  </body>
</html>
